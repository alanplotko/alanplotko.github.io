{%- if page.url == '/' -%}
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js" integrity="sha512-Kef5sc7gfTacR7TZKelcrRs15ipf7+t+n7Zh6mKNJbmW+/RRdCW9nwfLn4YX0s2nO6Kv5Y2ChqgIakaC6PW09A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{%- endif -%}
{%- if page.layout == 'post' -%}
<script defer type="text/javascript" src="/assets/js/claps.js"></script>
{%- if site.render_comments -%}
<script defer src="{{ site.comments_origin }}/client.js"
        data-repo="{{ site.comments_repo }}"
        data-repo-id="{{ site.comments_repo_id }}"
        data-category="{{ site.comments_category }}"
        data-category-id="{{ site.comments_category_id }}"
        data-mapping="title"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
{%- endif -%}
{%- endif -%}
{%- if jekyll.environment == 'production' -%}
<script type="text/javascript">
    (function(e,t,n,i,s,a,c){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)}
    ;a=t.createElement(i);c=t.getElementsByTagName(i)[0];a.async=true;a.src=s
    ;c.parentNode.insertBefore(a,c)
    })(window,document,"galite","script","https://cdnjs.cloudflare.com/ajax/libs/ga-lite/2.1.0/ga-lite.min.js");
    galite('create', '{{ site.google_analytics }}', 'auto');
    galite('set', 'anonymizeIp', true);
    galite('send', 'pageview');
    window.addEventListener('unload', () => {
        galite('send', 'timing', 'JS Dependencies', 'unload');
    });
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register("{{ site.url }}/sw.js", {
                scope: "/"
            });
        });
    }
    {%- if page.url == '/' -%}
    window.addEventListener('DOMContentLoaded', (event) => {
        particlesJS.load("particles", "/assets/json/particlesjs-config.json");
    });
    {%- endif -%}
</script>
{%- elsif site.service_worker -%}
<script type="text/javascript">
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register("{{ site.url }}/sw.js", {
                scope: "/"
            });
        });
    }
    {%- if page.url == '/' -%}
    window.addEventListener('DOMContentLoaded', (event) => {
        particlesJS.load("particles", "/assets/json/particlesjs-config.json");
    });
    {%- endif -%}
</script>
{%- elsif page.url == '/' -%}
<script type="text/javascript">
    window.addEventListener('DOMContentLoaded', (event) => {
        particlesJS.load("particles", "/assets/json/particlesjs-config.json");
    });
</script>
{%- endif -%}
{%- if site.collect_events -%}
<script async defer data-website-id="baf21bb8-48d2-424a-ba21-a6f5be16194f" src="{{ site.events_origin }}/events.js"></script>
{%- endif -%}
