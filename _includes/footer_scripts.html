{%- if page.url == '/' -%}
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js" integrity="sha512-Kef5sc7gfTacR7TZKelcrRs15ipf7+t+n7Zh6mKNJbmW+/RRdCW9nwfLn4YX0s2nO6Kv5Y2ChqgIakaC6PW09A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{%- endif -%}
{%- if page.layout == 'post' -%}
<script defer type="text/javascript" src="/assets/js/posts.js"></script>
{%- if site.comments_enabled -%}
<script defer type="text/javascript" src="{{ site.comments_origin }}/client.js"
        data-repo="{{ site.comments_repo }}"
        data-repo-id="{{ site.comments_repo_id }}"
        data-category="{{ site.comments_category }}"
        data-category-id="{{ site.comments_category_id }}"
        data-mapping="title"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
{%- endif -%}
{%- endif -%}
{%- if jekyll.environment == 'production' or site.service_worker_enabled -%}
<script type="text/javascript">
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register("{{ site.url }}/sw.js", {
                scope: "/"
            });
        });
    }
    {%- if page.url == '/' -%}
    window.addEventListener('DOMContentLoaded', (event) => {
        particlesJS.load("particles", "/assets/json/particlesjs-config.json");
    });
    {%- endif -%}
</script>
{%- elsif page.url == '/' -%}
<script type="text/javascript">
    window.addEventListener('DOMContentLoaded', (event) => {
        particlesJS.load("particles", "/assets/json/particlesjs-config.json");
    });
</script>
{%- endif -%}
{%- if site.events_enabled -%}
<script async defer data-website-id="{{ site.events_website_id }}" src="{{ site.events_origin }}/events.js"></script>
{%- endif -%}
